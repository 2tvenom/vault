$darkShades: (
  'black-bis': $white-bis,
  'black-ter': $white-ter,
  'grey-darker': $ui-gray-010,
  'grey-dark': $ui-gray-050,
  'grey': $ui-gray-100,
  'grey-light': $ui-gray-300,
  'grey-lighter': $ui-gray-500,
  'white-ter': $black-ter,
  'white-bis': $black-bis,
) !default;

@media (prefers-color-scheme: dark) {
  body {
    background-color: $grey-darkest;
    color: #efefef;
  }

  .input,
  .input:active,
  .input:focus,
  .input:hover,
  .textarea,
  .textarea:active,
  .textarea:focus,
  .textarea:hover,
  .select select {
    background-color: black;
    border-color: $grey-dark;
    color: white;
  }
  .input:focus,
  .textarea:focus,
  .select:focus,
  .input:active,
  .textarea:active,
  .select:active {
    @include dark-mode-focus;
  }

  .title {
    color: white;
  }

  .title > a {
    color: inherit;
  }

  .link,
  a,
  .breadcrumb a,
  .li.is-active a {
    color: $vault-yellow;
  }

  .ui-wizard {
    background-color: lighten($grey-darkest, 10);
  }

  @each $name, $pair in $colors {
    $color: nth($pair, 2);
    .has-text-#{$name} {
      color: $color !important;
    }

    a.has-text-#{$name} {
      &:hover,
      &:focus {
        color: darken($color, 10%) !important;
      }
    }
  }

  @each $name, $shade in $darkShades {
    .has-text-#{$name} {
      color: $shade !important;
    }
  }
}
