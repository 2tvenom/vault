$darkShades: (
  'black-bis': $white-bis,
  'black-ter': $white-ter,
  'grey-darker': $ui-gray-010,
  'grey-dark': $ui-gray-050,
  'grey': $ui-gray-100,
  'grey-light': $ui-gray-300,
  'grey-lighter': $ui-gray-500,
  'white-ter': $black-ter,
  'white-bis': $black-bis,
) !default;

$darkShadesIs: (
  'light': $ui-gray-500,
) !default;

@media (prefers-color-scheme: dark) {
  body,
  html {
    background-color: $grey-darkest;
    color: #efefef;
  }

  .input,
  .input:active,
  .input:focus,
  .input:hover,
  .textarea,
  .textarea:active,
  .textarea:focus,
  .textarea:hover,
  .select select {
    background-color: black;
    border-color: $grey-dark;
    color: white;
  }
  .input:focus,
  .textarea:focus,
  .select:focus,
  .input:active,
  .textarea:active,
  .select:active,
  .select:focus,
  .select select:active,
  .select select:focus {
    @include dark-mode-focus;
  }

  .title {
    color: white;
  }

  .title > a {
    color: inherit;
  }

  .link,
  a,
  .breadcrumb a,
  .li.is-active a {
    color: $vault-yellow;
  }
  .tabs a:hover {
    background-color: transparent;
    color: $ui-gray-300;
  }

  .ui-wizard {
    background-color: lighten($grey-darkest, 10);
  }

  .button:focus:not(:active),
  .toolbar-link:focus:not(:active),
  .list-pagination .pagination-previous:focus:not(:active),
  .list-pagination .pagination-next:focus:not(:active),
  .file-delete-button:focus:not(:active),
  .button.is-focused:not(:active),
  .is-focused.toolbar-link:not(:active),
  .list-pagination .is-focused.pagination-previous:not(:active),
  .list-pagination .is-focused.pagination-next:not(:active),
  .is-focused.file-delete-button:not(:active) {
    box-shadow: 0 0 0 0.125em rgba(251, 217, 94, 0.25);
  }

  code {
    color: $yellow-100;
  }

  .auth-form .box,
  .auth-form .toolbar,
  .splash-page-sub-header .toolbar {
    background-color: $ui-gray-800;
  }

  .table {
    background-color: $grey-darkest;
    color: $white;
  }

  .masked-input.display-only .masked-value {
    color: $ui-gray-200;
  }
  .masked-input:not(.masked) .masked-input-toggle,
  .display-only .button.masked-input-toggle:hover,
  .display-only .button.copy-button:hover {
    color: $vault-yellow;
  }

  @each $name, $pair in $colors {
    $color: nth($pair, 2);
    .has-text-#{$name} {
      color: $color !important;
    }

    a.has-text-#{$name} {
      &:hover,
      &:focus {
        color: darken($color, 10%) !important;
      }
    }

    .help.is-#{$name} {
      color: pink;
    }
  }

  @each $name, $shade in $darkShades {
    .has-text-#{$name} {
      color: $shade !important;
    }
    .has-background-#{$name} {
      background: $shade !important;
    }
  }

  @each $name, $shade in $darkShadesIs {
    .is-#{$name} {
      background: $shade !important;
    }
  }
}
